!function(){"use strict";!function(t,e){t.MutationObserver=function(){return t.MutationObserver||t.webkitMutationObserver||void 0}();var n=function(t,e){var n,i=this,s=this,r=Object.keys(t),o=r.length;void 0!==e?this.debug=!0:this.hasOwnProperty("debug")&&this.debug===!0||(this.debug=!1),this.bind("change",function(t,e){s.debug&&console.debug("on:change",t,e),s[t]=e});for(var d=0;d<o;d++)n=r[d],i.stick(n,t[n])};n.prototype.handleMutations=function(t,e,n){t.forEach(function(t){t.removedNodes[0].data!==t.addedNodes[0].data&&n.trigger("change",e,t.addedNodes[0].data)})},n.prototype.stick=function(e,n){var i=this;this.debug&&console.debug("stick()",e,n);var s=new t.MutationObserver(function(t){i.handleMutations(t,e,i)});return s.observe(n,{attributes:!1,characterData:!0,childList:!0,subtree:!1}),i._bindings=i._bindings||{},i._bindings[e]=n,i._observers=i._observers||{},i._observers[e]=s,i.hasOwnProperty(e)?i.set(e,i[e]):i[e]=n.textContent,i},n.prototype.unstick=function(t){var e,n,i=this,s=[];void 0!==t?s.push(t):s=Object.keys(this._bindings),n=s.length;for(var r=0;r<n;r++)t=s[r],i._bindings.hasOwnProperty(t)&&delete i._bindings[t],i._observers.hasOwnProperty(t)&&(e=i._observers[t],i.handleMutations(e.takeRecords(),t,i),e.disconnect(),delete i._observers[t])},n.prototype.set=function(t,e){var n;return this._bindings.hasOwnProperty(t)&&(n=this._bindings[t]),void 0!==n?n.textContent=e:this.debug&&console.debug("No target!",this._bindings,this._bindings.hasOwnProperty(t),Object.keys(this._bindings)),this[t]=e,e},n.prototype.get=function(t){return this[t]},n.prototype.hasFired=function(t){for(var e=this,n=this._observers[t],i=this._bindings[t],s=n.takeRecords(),r=s.length,o=!0,d=0;d<r;d++){s[d].target===i&&(o=!1)}return e.handleMutations(s,t,e),o},e.mixin(n),t.BoundObject=n}(window,MicroEvent)}();
