/*! boundobject.js - v0.1.0 - 2013-08-21 */
var MicroEvent=function(){};MicroEvent.prototype={bind:function(a,b){this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)},unbind:function(a,b){this._events=this._events||{},a in this._events!=!1&&this._events[a].splice(this._events[a].indexOf(b),1)},trigger:function(a){if(this._events=this._events||{},a in this._events!=!1)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}},MicroEvent.mixin=function(a){for(var b=["bind","unbind","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=MicroEvent.prototype[b[c]]},"undefined"!=typeof module&&"exports"in module&&(module.exports=MicroEvent),function(a,b){"use strict";a.MutationObserver=function(){return a.MutationObserver||a.webkitMutationObserver||void 0}();var c=function(a){var b,c=this,d=Object.keys(a),e=d.length;this.hasOwnProperty("debug")&&this.debug===!0||(this.debug=!1),this.bind("change",function(a,b){c.debug&&console.debug("on:change",a,b),c[a]=b});for(var f=0;e>f;f++)b=d[f],this.stick(b,a[b])};c.prototype.handleMutations=function(a,b,c){a.forEach(function(a){var d=a.removedNodes[0].data,e=a.addedNodes[0].data;d!==e&&c.trigger("change",b,a.addedNodes[0].data)})},c.prototype.stick=function(a,b){var c=this,d=new MutationObserver(function(b){c.handleMutations(b,a,c)});return d.observe(b,{attributes:!1,characterData:!0,childList:!0,subtree:!1}),c._bindings=c._bindings||{},c._bindings[a]=b,c._observers=c._observers||{},c._observers[a]=d,c.hasOwnProperty(a)&&c.set(a,c[a]),c},c.prototype.unstick=function(a){var b,c,d=[];void 0!==a?d.push(a):d=Object.keys(this._bindings),c=d.length;for(var e=0;c>e;e++)a=d[e],this._bindings.hasOwnProperty(a)&&delete this._bindings[a],this._observers.hasOwnProperty(a)&&(b=this._observers[a],this.handleMutations(b.takeRecords(),a,this),b.disconnect(),delete this._observers[a])},c.prototype.set=function(a,b){var c;return this._bindings.hasOwnProperty(a)&&(c=this._bindings[a]),void 0!==c?c.textContent=b:this.debug&&console.debug("No target!",this._bindings,this._bindings.hasOwnProperty(a),Object.keys(this._bindings)),this[a]=b,b},c.prototype.get=function(a){return this[a]},b.mixin(c),a.BoundObject=c}(window,MicroEvent);var myModel=new BoundObject({fun:document.querySelector("#fun")}),target=document.querySelector("#test");myModel.debug=!0,myModel.test="neato",myModel.stick("test",target),target.textContent="2 way binding,",myModel.set("fun","for everyone!"),myModel.unstick("test"),myModel.unstick(),myModel.set("fun","dom will not see this");